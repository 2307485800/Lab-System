<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tyut.selab.rule.mapper.ScoreMapper">
    <insert id="addScoreLog">
        insert into rule_log (target_user_id, reason_content, create_time, create_user_id, image, score_change)
        values (#{userId}, #{reason}, #{createTime}, #{MenderId}, #{image}, #{scoreChange})
    </insert>

    <update id="updateScore">
        update rule_score set scores = #{scores} where user_id = #{userId}
    </update>
<!--
    List<SysUser> list(Long scoreCheck);
    查询scoreCheck分数以上的所有用户-->
    <select id="list" resultType="com.ruoyi.common.core.domain.entity.SysUser">
        select * from sys_user where user_id in (select user_id from rule_score where scores >= #{scoreCheck})
    </select>

</mapper>
